import fs from "fs";
import path from "path";
import { JsonProof, Mina, PublicKey, PrivateKey } from "o1js";

import { AggregateProof, ElectionContract, RangeAggregationProgram, Vote } from "contracts";

import logger from "../../../utils/logger.js";

const ADD_MINA_PRIVATE_KEY_TO_WALLET_CONFIG_COMMAND = "zkvot config wallet <private_key>";

const minaPrivateKeyBase58FolderPath = path.join(import.meta.dirname, "../../../../config");
const minaPrivateKeyBase58FilePath = path.join(minaPrivateKeyBase58FolderPath, "wallet.json");

const setActiveMinaInstanceToDevnet = () => {
    const Network = Mina.Network({
        mina: "https://api.minascan.io/node/devnet/v1/graphql",
        archive: "https://api.minascan.io/archive/devnet/v1/graphql",
    });

    Mina.setActiveInstance(Network);
};

const createMinaWalletConfigFolderIfNotExists = (
    minaPrivateKeyBase58FolderPath: string,
    callback: (err: Error | string | null) => void
) => {
    fs.access(minaPrivateKeyBase58FolderPath, fs.constants.F_OK, (err) => {
        if (err && err.code === "ENOENT")
            return fs.mkdir(minaPrivateKeyBase58FolderPath, (err) => {
                if (err) return callback(err as Error | string | null);

                return callback(null);
            });

        if (err) return callback(err);

        return callback(null);
    });
};

const createMinaWalletConfigFileIfNotExists = (
    minaPrivateKeyBase58FilePath: string,
    callback: (err: Error | string | null) => void
) => {
    fs.access(minaPrivateKeyBase58FilePath, fs.constants.F_OK, (err) => {
        if (err && err.code === "ENOENT")
            return fs.writeFile(minaPrivateKeyBase58FilePath, "", "utf8", (err) => {
                if (err) return callback(err);

                return callback(null);
            });

        if (err) return callback(err);

        return callback(null);
    });
};

const checkIfMinaPrivateKeyBase58ExistsInWalletConfig = (
    minaPrivateKeyBase58FilePath: string,
    callback: (err: Error | string | null, exists?: boolean) => void
) => {
    fs.readFile(minaPrivateKeyBase58FilePath, "utf8", (err, data) => {
        if (err) return callback(null, false);

        if (!data) return callback(null, false);

        try {
            const privKeyBase58Json = JSON.parse(data);

            if (!privKeyBase58Json.priv_key_base58) return callback(null, false);

            return callback(null, true);
        } catch (err) {
            return callback(null, false);
        }
    });
};

const readWalletConfigAndGetMinaPrivateKey = (
    minaPrivateKeyBase58Path: string,
    callback: (err: Error | string | null, minaPrivateKey?: PrivateKey) => void
) => {
    fs.readFile(minaPrivateKeyBase58Path, "utf8", (err, data) => {
        if (err && err.code === "ENOENT") return callback("file_not_found");

        if (err) return callback(err);

        try {
            const privKeyBase58Json = JSON.parse(data);

            return callback(null, PrivateKey.fromBase58(privKeyBase58Json.priv_key_base58));
        } catch (err) {
            return callback("parse_error");
        }
    });
};

const getMinaPublicKeyByPrivateKey = (
    minaPrivateKey: PrivateKey,
    callback: (err: Error | string | null, minaPublicKey?: PublicKey) => void
) => {
    try {
        return callback(null, minaPrivateKey.toPublicKey());
    } catch (err) {
        return callback("public_key_error");
    }
};

const settleAggregatedElectionResultToMinaById = async (
    data: {
        privateKey: PrivateKey;
        publicKey: PublicKey;
        aggregatedElectionResult: {
            electionId: PublicKey;
            result: AggregateProof | null;
        };
    },
    callback: (err: Error | string | null | unknown, transaction_hash?: string) => void
) => {
    if (!data.aggregatedElectionResult.result) {
        return callback("result_not_found");
    }

    const electionContractPrivateKey = data.privateKey;
    const electionContractPublicKey = data.publicKey;
    const electionContract = new ElectionContract(electionContractPublicKey);

    try {
        await Vote.compile();
        await RangeAggregationProgram.compile();
        await ElectionContract.compile();

        await Mina.transaction(data.publicKey, async () => {
            if (!data.aggregatedElectionResult.result) {
                throw new Error("result_not_found");
            }
            electionContract.settleVotes(data.aggregatedElectionResult.result, data.publicKey);
        }).then(async (txn) => {
            txn.sign([electionContractPrivateKey]);
            await txn.prove();

            return callback(null, txn.toJSON());
        });
    } catch (err) {
        return callback(err);
    }
};

const voteProofJson: JsonProof = {
    publicInput: [
        "21328132046380650077675473735026583415700363271974437868759171932478942981817",
        "18169736433841327548068514216624060566986064512481479467256561180481185455653",
        "1",
    ],
    publicOutput: [
        "2",
        "16965660005717428458983843117061638937946564584883316448893490077862628251112",
        "23221240875554556123594279362877104172951406873692749193034393781954184939279",
        "0",
        "0",
        "1",
        "0",
        "0",
        "18446744073709551616",
    ],
    maxProofsVerified: 2,
    proof: "KChzdGF0ZW1lbnQoKHByb29mX3N0YXRlKChkZWZlcnJlZF92YWx1ZXMoKHBsb25rKChhbHBoYSgoaW5uZXIoZmQxOWY5NWQ1MDNhZGYyYSBmN2ZjN2NjMmUyOTk2NDlmKSkpKShiZXRhKGFjYTJkZjQ3ZWUxOTQ4Y2UgZmIwZGIwZWI3NmI1ZjdjZCkpKGdhbW1hKGQwN2FmZDBkN2VhMmViNmQgMzhkMTgwOTAwYjAzMzQyMCkpKHpldGEoKGlubmVyKGNjNTE0ZDlmMjQxZTgwNjEgZDNmOGVhMThiNjg4OTk1NykpKSkoam9pbnRfY29tYmluZXIoKChpbm5lcigwMDAwMDAwMDAwMDAwMDAwIDAwMDAwMDAwMDAwMDAwMDApKSkpKShmZWF0dXJlX2ZsYWdzKChyYW5nZV9jaGVjazAgdHJ1ZSkocmFuZ2VfY2hlY2sxIHRydWUpKGZvcmVpZ25fZmllbGRfYWRkIHRydWUpKGZvcmVpZ25fZmllbGRfbXVsIGZhbHNlKSh4b3IgZmFsc2UpKHJvdCBmYWxzZSkobG9va3VwIGZhbHNlKShydW50aW1lX3RhYmxlcyBmYWxzZSkpKSkpKGJ1bGxldHByb29mX2NoYWxsZW5nZXMoKChwcmVjaGFsbGVuZ2UoKGlubmVyKDJmMDdkZWEyZjAzZTk2YjMgMWJjZjlhMWZjZDM0ZGI4MykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGIyMGQ5ZjZlZTJmNjJhZjIgNDRkOTFlMDNkOTQzNjBiZSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDliNmJjYjk1NGIyMjEzNGUgMWUwZjRlNTJkODNkYTRiMSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGI1M2MyYmQ1OWY5NDQ4MzggNjI2ZmZjZDk3NzgzY2M3NykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDg0ZmM1N2FmYTczNzIzNjkgOThlM2RlNTQ4MmU3NDUwZikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDFkZTQ4ZGMzMjFiY2NmMjYgZTBmNmY2N2Y2OGY1ZmIwZCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGY0ZjE0YmI4ZTVjZmU4ZjMgNDMxNjBjYzU1Y2Y5ODhhYSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDMzNmY5OGY3N2YzYjM4ZmQgMmIxYjMwNzMwYWZhMGJhZCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGE3OTU1MmRhMmE4YTI0NzcgMWE2MjM5MGUxYzg2YWM2MSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGZiMmRiYjEzZjc2YTBjZjcgODdkNjBmZjJhNmEzMzM4ZikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGY3ZThlOTUyZmM3OTM2YTIgOTYzMzM5YzQ4ZThmZjU4NykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGVlNjYwOGY3ZDA1OWI0OWEgYTY2MDU3OTMxMTQ0M2ZlMikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDBiNTZjMGU0ZTNiYzUzZDQgYjhiODcxMWM4MDUzNDlkMykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDM3ZmIyZGZmNjA4MGVlODcgMTcyOGQxOTM3MmM0MjA1MSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDQ0YTNkMmNkOGEwZTk1ZTggMTI1YzUzYWUzZTZiZTJhOCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDg5NTU1MWI5OTEzYzNhZGUgZGVlMTc5ZTk0MWJiNGRmMikpKSkpKSkoYnJhbmNoX2RhdGEoKHByb29mc192ZXJpZmllZCBOMikoZG9tYWluX2xvZzIiXDAxNSIpKSkpKShzcG9uZ2VfZGlnZXN0X2JlZm9yZV9ldmFsdWF0aW9ucyg3YTA2NjI5MTE5MTljOWJhIDA5OWY1N2MwOGE4MDI3MzYgYTJhMjVlMmM1YTE2MDNlNiAzMWRkZDg0YmYxMjhjYTNhKSkobWVzc2FnZXNfZm9yX25leHRfd3JhcF9wcm9vZigoY2hhbGxlbmdlX3BvbHlub21pYWxfY29tbWl0bWVudCgweDIwRTM0NDk5NEM2NUI2REM3RTA3NEUxMDNERjE4M0I1N0Q5RjdFOTBDNjM3NDY1QjI1RjJDMzUwREEyMzM2NDMgMHgzOUYyNkU1OEU0RjEzMDM3RkNCMzBDNTVBQUQ3RTU3RkRBMjU5NEJGMTdCMjVEMzU2RjA0NTY5NkZEOUNFRTgzKSkob2xkX2J1bGxldHByb29mX2NoYWxsZW5nZXMoKCgocHJlY2hhbGxlbmdlKChpbm5lcigxOTcyNTI2NjA2ZWRiM2M5IDJiMTA3NTNjZmY2MmRkMjYpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig3OWM0N2FiYTA4OTg5MzgwIDIzNjEzMWMwYTc1Y2YyOTMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigzZDdmMTg5OGRlNjI4ZTgxIGJhOGYzMDQzN2M2NzA5ODgpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihjY2I4MTFjZjZhYmUxZGUwIGNmMTNiOGNkOWM2ODE2MTApKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihkODkwYWRiNzAzYmUyODQwIDZjOTJhZThmN2Y3ZjM3NjQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig2ZDgyMDRmMzg1MmVmMTQ3IGQ4YTdkY2E3N2YwYzhmNmUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihhMGE0NDE1MjIyNjk3YmJjIDlkNjBhOGM2MjFkOWNmNTEpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig3NWNmODE5NWEyMDY2OTFjIDUwMjU2ODcxYTFiNzIzZjkpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig4NjgwODUwZDM2NjYwMmNkIDAyNmU4MzE1NjVjMjUzYmYpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigzN2FkYzBhNmJmZTVmOGIwIGI2ZTFiZTU4MWFkODNhMzQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig0NzMzMDQyMDRhNmQ4OTMxIDhjZDcyNDM1YzE0MDlkMTUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigxY2Q0ZmY1YjNlYjJjYjM3IGMyMTVlMzQyZWZmNzhkMzUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig0NWRkMzk5YjllOTJhMmVlIGFhZGQzNDdiNTkzZGQ4MmEpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigxMTM2NTUxMjg2Yjk3MWNhIDI4ODdiNGY4MzkzNTQ1ODcpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig0Y2IwZjNlNWNjMGU4NzEwIGQ1ZWJlNzU3M2Y3MDRjOGEpKSkpKSkoKChwcmVjaGFsbGVuZ2UoKGlubmVyKGZhOWFlNjNkMmU1N2M5NTMgZGVmNTgxZGM3YTIxODE3YSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGEyZTBjYzFkYTk2NTY0NzAgMGU1MGVlN2Y0ODQxNjgyMSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGI0NmJmODQyYTU0ZTU4N2QgMjhhZWI3OGUwODQ0ZmY3YikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGQ5NGU0ZTRlMWU1Nzg1OGYgYTA4ODJkYjY2YWZmMzdmMSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGQ2ODA0ZGZjZmIzZTRkMjEgOTJlMzI4NzRmNzQzOTRjMSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDU3YTBiZDQ5NzIzZmJiZWEgZjJkZDViMDM1OGM2MWRiYSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDMzY2I4MzMxYmRhZTk0ZjMgNjkyN2U1MjU1YzFkNjc4YikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDhmYWM2MmYwYmUzODBjODEgYWNkNjQzMTZiMTZjMDY3NikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDBjN2EzZWI5MzNkNzdkODkgODg5YzQ5ZjZmNmEwN2JkOSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDhiOTQ0NTExZmVlMzIzOWMgNWYyMDc2ZGI1NDU2NDg0ZCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGM2MWZiYzYyOWUxNTNjM2EgMTQ1OGNlZTVjNDZkOGU5MikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDdjMjU5N2RlOTE0MzlkZTQgOWRkYzE3NGI4ZjMzYmM0MSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDIzNTg0OTU3NGM1YTY4YjkgMGMxNTE5ZTQwYmUxMjBmMykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDQ5YTU1MmM0MzlmZmFmNWMgNzMwYTE2ZjBhZDAyYTU4NykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGNiMTM2YWM5Y2FmMWYyODEgNWY5YTc5YzZhN2RlYTgyNikpKSkpKSkpKSkpKShtZXNzYWdlc19mb3JfbmV4dF9zdGVwX3Byb29mKChhcHBfc3RhdGUoKSkoY2hhbGxlbmdlX3BvbHlub21pYWxfY29tbWl0bWVudHMoKDB4MEMzQzc5M0ExNzVFNzgwRTc0QzkwOTgxQUU4QzdBOUY2ODA1RjI0QTJERDJGQkJGNURFRENFOEUyMjVGMERCQiAweDAyNjFBNDI4MDY2RDFENjFCN0IwNzIxNkE3ODMyQTI4NjE0REYzOTRBOUY3M0FEQTAzOEUzODlEQkM2QzVEN0EpKDB4M0Y1MEQ4NjUzRDRGREIwRUM0ODI1RTAzMjZBQ0NDREVGNkYzQjFFRjkzNUI4MkRGQkQyNTU0Qjk1MjgwRTBFMyAweDNBMzYyQzM5RDI3QTIyNzc2MTMzNTQxQjRBNjE1ODQyMUYwQjk1RTA0QkY4Q0U5QkQzMzU5ODE0RjUzMUE2NkQpKSkob2xkX2J1bGxldHByb29mX2NoYWxsZW5nZXMoKCgocHJlY2hhbGxlbmdlKChpbm5lcihjMmJlOGM1YWUwYTAyNjAwIGZjNTQ5YmZmYTg1MmZjMjMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigxODNjOTIzNmQxZDk3NGIzIGRiZDAyMWQ2NTUwYzIyMjMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihlMWZkMjNmZTg4NWFlNjg1IDAxZjk2MDg5NmEwZWFmNDUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig5ODhlMDc1YzI5OTIxNjEzIDVhNzdiZDZkZWVjZWFhODMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigyNzQyZGYzNmIxM2I0YTNiIDRkYzUxNGYxNTUxMGI0NTIpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig4Zjc5YjM5YmZhMmU0ZTk1IGUyYTk3YmM3NmY0YzMxMjkpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihlYTA5MTgxZmNhYzhiZTczIGEwMzc2NzkwMmM0YmRiOGUpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig4NjA1MjM4ZWFhYWQwNjI2IGU0NzdjNGYyZWQwZWZmNDQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig3ZTM4M2ZjNDFjZWY0NTUxIGFlZWJlZGJjOWRiOTViODQpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihhMmM2YmJmOTNlZmEyOWFlIGIyNDk3MTlkNDc1OTg2YTYpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcig5NmYzZjRhZTM3ZGRjNjg5IDEwYjk4YjUzYjZiM2M2MjMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigwMWNiNjg0Y2FkMjYzM2E0IGUxODY2MzQ4YmIwMmFkYmYpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigzMGYxNTA5YWM1ZTA2YTY1IGJhMzU4ODFlMzVlMzRiZjgpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigwZWQ0M2MyMzJhZTg5ODZmIDJlZWJhYzI2ZWY5YTgzMmMpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcihiZTY4NzQ4NGE3M2RkZDg4IGRjNTNiNjQ4MTVmMTU2OGYpKSkpKSgocHJlY2hhbGxlbmdlKChpbm5lcigyYmI3ZmJkNWJjY2JjN2M0IGNiZTdiNWMzZmM2ODVkNTMpKSkpKSkoKChwcmVjaGFsbGVuZ2UoKGlubmVyKDdhYTc3NGYzNmU0ZTEzY2EgOGMwNzVlMjE0ZDMzY2M0YikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDFhN2IyNGYzOGRkMDVlNjMgNDRmNmY4YjM5MGZiOTRhYikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGFkNDhjNWY0ZDViMjc2OTggZThiMGM1MjlhMWRiOTE1YykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDUxMTQ3M2VlMGE2NTg3MjUgOTBhMzdiYzE4ODIwMThjNykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGYyOTJjNDRhYjUyOTdiMGYgMDEwYmE3MjBlYTNkZGEzNikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDQxODM4NmM2MzhiOWFkNGIgMWI2NjlmY2Q0OTJhOWY4OSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGRmN2VhODk4ZTc4MTBjYTAgYTRlNDBlZDUzZmQ3MGM5ZikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDk5ZGYxZWJiYTgxYmI5MDEgNzU4MWVkZTM3NzQ5NjZhYykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGU5YzQ4NjNhZDc2YTQ4MzUgOTFjMjY2MDVlODg2MjM4NCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGMwZjY1NzdiNzkyN2QyNjQgNTU5MjM5NzQ4MDU1OTc5YikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGUwYjEwNmE0NTAzYzFmZTAgMWEwN2VlNzNjNjc4ZThmNykpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGE2MWIxZDRhNWU3ZWI0YmMgMzYzOWE1YTI3MTg5ZGE5MikpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGNkYTMyYWI4YjQ5ZjdmNmMgNTFhNTMzMGMzZjAxYzAzZCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDI1NjRiNWIyYTcwOTBiOWIgYzBkM2E4N2RjNjVjOTdhZSkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKDE3YzBkZDQ4OWM1YTFiMGMgN2FjZjk4YTgzZTQyZTlkOCkpKSkpKChwcmVjaGFsbGVuZ2UoKGlubmVyKGU1ZTVhMzViMmExYjUzNzYgN2ZjNGFlYzk3ZGRiMzcxOSkpKSkpKSkpKSkpKShwcmV2X2V2YWxzKChldmFscygocHVibGljX2lucHV0KDB4MkUyRDI4RTRBRjk2MjY2ODE2QUE2MTM4NUM1ODg2RjVERjI1RjA0QkNGNTgzNzQ4ODlENUIyQTU1NzQ1OTFFMSAweDM5NzI5M0M5OEFCQTAwNjFBQzlCNzc0NEM1NDJDNUVBNTZCRkRGNDQ3MEYwNzZDNzM4MDg0QjgyRkM4QjEwRjApKShldmFscygodygoKDB4MjJCRTQ0RkI0OTdERTlENjY1RTA3MzQ4RDI2QTE3M0YzREYxRDY1MDBDNjdDODhCNzYzNzQ0MTk4QUJBMjk5OCkoMHgzMUNBOEVCQjM3REZFREM0MTcyMzQwOTI1QUQ3OTdDNjlCQUIxMDQ2NDM3OTFFMTE4NDZCMDNFQTRENzRERTFEKSkoKDB4MzREN0E5NDU3RTE5MjVFMzYwMzM2ODQ3MTY3Q0RDNTExMkY5MDNBNTk2OTA1QTVCQjc5M0I4NThDRjg0RENEOCkoMHgwNDMxQ0RCRTAyNzAyRTVGMDU4MzAzNUIzMzJDRUZBM0Q0MjE0NDA2QzJDQTBEMDcyOTMyNEJCNzAzOThGNTdFKSkoKDB4M0VDNDIxMjM4QzE0Q0RCMEVCRkZFNUQwRTQzNDc4QTc2M0Q2MTY4Q0E1QkZCMkZDNkZCMzBBN0I0RkUwOTBDQSkoMHgyNjkyQ0NCQjI3N0IzMTAyOTlERURGRjFFRDIyMENCRjc5Mzg0MThDNUU4MzU3NDJFNkFGQkU3NzBCRTU2QTZEKSkoKDB4MzIxQjVDNzRGMDNDREU3MTU1NTc2NDkyRjY5NjM0Q0M4MDk1QjU3MzgzOEFFMjhGRkE0QjZDQUI2QjhEMjVCMikoMHgyRkZBNjQwOTIzQzY0MDdFNkEzMTY1QTVFRTQwNzlDNzBDODM4MzNFRDQwRTA4NkE0Qjk1OTI5QkZCRjBBQjM0KSkoKDB4MDFCNjg1RjFCOUY2NkVGOEI4NDAwRjZGMkQxNkZCRjVGOTMxQURCREQ4NTY1NjNDQ0EyM0FGOEJGOUQ5MkVDMykoMHgxMDQ1NjdDNTNFMTdBMDU0RkY0QzYxQzVCNThFNDU2NTg3NTI1ODcyODQzMUQ3RjJBQkE5RUY5RkUzMjM5QTA3KSkoKDB4MTM3NEMxMTdFNjYyODNCRUEwNENDMERGOTQ1NjVFOThENTYzQjI2RTc1MENCQzhDQzhCQUJBQzEwRDYzOUUxMikoMHgyQ0I5RUU4ODU0OUFBNUM0N0RCRjNGRDI5MjcyRUE2QzNBQUM3QjA3REZCQjcxODM1RDFENzhDQkVFRUUwNDgwKSkoKDB4MkZBQTQ3NEJEODIyMkY4NEJFRTcyRUQ0Rjg4MjVBOTBENDE5NUYyREVDM0VEQ0I2RTNCMTBBQ0U1N0JDOUNBQykoMHgxMkY2NUFEQUY3QTI0QkI4NTBBNjIwRkI4MzcxQjE2OUNBNTE5N0U4NTlCRjlFNzg5QkE2NThBRTBBQUEyNzE2KSkoKDB4MUQyNDdGMzQzRTExMjQ0M0IzRkQzOEExRUY4NjNBNjc5NTczMTlERkFEMTcyQ0NDOEM5NTU3MTlCNDhBMTYyMykoMHgxNDYwOTMwQzcwREFGQTIwMUUyMDJGMUZDRUQ5QjY0QzhBMzM0ODNDQzcxN0FFODM4RDI0QzkwMkYyNkEyRDk1KSkoKDB4MjUxQjgyRTI3MDA3QkMxOEFERDMxRUY5QTVFMTMzMkFGMUJDRENFNjlCQTc2MkY4N0QwODVFMzg2Njg3NUI2NikoMHgwMzcyQ0U3MDEwNTkzRkY2NkMyQUIwM0U4QkE3NkU1NTc4RDVEQTUwRDU5QkZFODNDNjZCN0E3MjAyNjZBREVFKSkoKDB4MjQ0RTZBQTYwODMzRUE2QjlDQjY3QjNCNDY5NTdEQkQ2QUExNDEzQzEzNkFDNzlFNTJBRDk2REFGMTAxODBCRikoMHgxRTI0MUMwRjFGNzk5MDE4QUE5OTMxM0IyQ0EwQjVGNzcyN0VEQkYxNTBCNjk0RkZDRkNEQjhCOEJFNjhEQjREKSkoKDB4MjRFNkIyMDQ1MTc1RkEwQzkxQkVDN0EwNzA5MTI5N0E5RUU3OUI2MkJGMTUxQkU0MDlDQ0ZEMjk5MkVDREE4QykoMHgyRTIxQjA4QjJDMzlCQUZCQjBGOTRGNEQyOTJFQjI5NThEQkM4QkYxRjI3MTc0NjZCRkU3MDY2RDEyRTJBQjE5KSkoKDB4MzJFMUNGM0U2MDhFMENGQ0VEREUxMzA0MjM0Njg0MjYwNUE0MzhGNTJFQkQ1NDVBMjUwMTQ3MThDNjgxMDI2MikoMHgyMDZDQkZBRUFDQ0VENjAzNEVBODBFNjFBNTcxMUQxQ0Q0RUJFN0I5QkQzQjg5N0M5QkRBNkU5MkU2M0U5NTA3KSkoKDB4MjlFRTQwQUI2NDJCRDJBQTQ3MkY5MTA1OTlFMDQ2NTY5MUVGMDQ0MTEwRjczMzcxQjYwNkFEMEFCRjJCMEYzRikoMHgwOUU5RjlGMTYzODdBRUZDOTI3QzdDRTlDQjIyODlFOTlGMUE1MUM5QzU0Q0U1RjJFNDY0QTk2OUNBQUZEMUVBKSkoKDB4M0Y4MEIzNUYxNzQ4RDMyMEI1ODczQzBGMThBOTU0NDQzOUJEOUU0MTc1QUQzMjcwMjAyOTJENDk1QUExRDA5RikoMHgwMkQwOTREQTg3NDc3M0YyMzUxMzlGMzIwOTZDRUFBRjRBNTIzQjg3RDk1NzBDOUFBMUNBOTk3ODRDNjdDQzI2KSkoKDB4MkVFNThDN0Q1OTg5MkI5QjQ0MEU3RTg5NzE1RTY2MkZEODlFRTY5OTE3NDg3MTA4Qjg2RUM1Q0ZCN0MwRjcxNykoMHgzMkIyMDJENDI2RTVFMEJFMjJERERCMzQ1QzY0NjFCMTFENkM0MDRFMzk5NTY1NDE2MzVBODNGOTlBQzBFNDQ4KSkpKShjb2VmZmljaWVudHMoKCgweDIwNkM5RDI0NjIzMEM2MUZBN0JDMjU0MUVDMkIxQTkwRERBNkJFM0YzQTM4OUM4MDdCMjk2NDFCMzlDNzU5NDQpKDB4MTc5RjBCQUQwQjNCRkJBMzdFNjQxRUY5QzE0NjNCQ0NDM0QwRjI2QkVENTkxMzRCQkQ1NDlGQTUzNzI5MTNFNikpKCgweDFFNUIxOEJBRjdGRkIyOTMyNjhFQjNCQzQzODVENTJEQ0IwQzcyNjI1NjJGMjY1QTZCNkNGRUEyRTI1NDIzMkEpKDB4MzI5NTUxOEE3REU1QzU5MUZENzcwMDdGRjk2OTk3RjREOEU4OTNFMTAwRDJBNzcyRjI2NjYwNDQzQ0YzMjZDRCkpKCgweDI4OTZGQzBDMENFMzBCOUIyNjBEN0E1RTkyRTQwOTI2MzRFRDY4QjhFQjRBN0ZGQTdFMkJCRTg3MUFFNDNBQTQpKDB4MjNFRUU3QTMwQUZFRkIwQzVENzlDQzg1NUYxN0U4MzRERTg1QTdDQkE4N0NERDRGQjIyQThFMEJGMURDNTExRCkpKCgweDM2RjQ4QzkzNzQ1M0Q1NDgyMDlFOTQ3OTc2NzAxODAzQUYyODMyOTZBRjJGODMzNDRFMzcyNkVDNEIyOUI5Q0MpKDB4MzE4NDMwQTkzRjk3Q0I0NzA2MkMxQ0Q5MTMyQUUzNTAxNjgxNEE0MzYyMUE1MTgyNzg1M0M2NzMzQkVBMDk1NSkpKCgweDJDNEVDODg4QkExQjJGRDhCODg3RTlDNzMxMDQxMkJGQjkwOUZDRTQ3REZGNjIzRDZCOUIwQTIyNTgwNjY3QjMpKDB4MTE3NTYyNUFCRjQ3QzZBRkYyRjQ0Q0NCNTNDOTQ2MjJCMjZCMDc5Q0Q4NTE4QUM2NDdBODYyNjU0OTdEOTZEOCkpKCgweDAyMTMxNzIzQ0QzMjk2Mzk2Q0UwNUY2RjkxOTYzNzUwMEM3NkEzNzkzMTBEMTIwQTc5Q0M1NkQzQUUxMDRCQzgpKDB4MUE4RjA0MDIxMjNFNjMzNzdFMUMyNkM0QTQ0RTdEOUJFOTI3NzgzOTREMDlGNjE5NTJCRUQ3MEZBNDM4NUNBQikpKCgweDNFQ0ZBRDA2OTk1QTlBRkQ5QzBCQUU0NjE2RjRBMjhEQzk2RkI4MjA1NTEzRDc2QzBEMTk3MUQyQ0JDNTk3QTgpKDB4MkIzNzJFOUQ1ODEzNjQ2NzRGNzc5RTFEREE3RTI5NEI2NTgxNjQ4QzA4NTk1MDg1NkNEODhEMjkxMkY5OTRGNykpKCgweDJEMEU4NDEzRkI5NDVDRjBDQUU2QzlCRjA1ODFCMTNEMDU5NjE5NDcxNEUxQjFENjg1MUNCQjlDNkM4RjZFMDIpKDB4MDNGNDM0MURGODY5NkVGMkM0QzU3OTRGNENFNDI4QTMwMUFEQTA1NTFENERBMDA4NzUyREVBQUMwQjYzMDQ4MikpKCgweDBFNzE5QzI0MDNFODcyRDlFOTc4MEI0OUVGQTBGRTkyM0M2RDQzODRBOUVGOTgzQzU5QUFERUJBRkY0RTYyM0QpKDB4Mzk2QkE2NjBDRjYzODFBQTE0RENEREIzM0JFNDdCMzk3RkYwN0M1QTgxNERGNDgxNjg5NzVCNTE2NUMxMjQ5QykpKCgweDI3QUZFRkY2QzNCMjNFOTBBQzk2ODM3QTVBRThENEU0MjFCNEM2NEU3NTM2OTg5NDAxMEM0QTYwNjZGNzRCMjUpKDB4MjA5NjE2QUI2ODYyMjRGMUJBMTAzMzRGN0RGN0U3NTdCQTExRDg1MkExRDFDNTI4OTIyMzRGOTFDMEZFMkVBNCkpKCgweDNCNkQ3OTEyRDYzRjkzRkVDQkJERDlBRjU1RkMzNkE1QkM1RDA1MTJEODY0NkRFQ0M3Q0E2MjJDM0FGQ0Y5NzQpKDB4MjcwNTQ5MUJGOEI4QjBDRTVFRDc4NDg0OUY1NDMwNTZBNDJEMDI0RjRBM0Y3MENBNUIwMDYwRDNFRjg3RjY0MCkpKCgweDNEODk0MUVGRjQyOTZDOEZCQTRBOUU5REZGQTY5OEM3MzgxRjdCOEUyMzU5NkE5NTczMTkwQkM4RUNGOTU5QjMpKDB4MjhEOUNFRTU5NEE3RTQ5NEEzNDNBQzg4RjZGNEVEQTY2NjA1RTUzNTg4MERGM0E2MEM5OTMzN0Q2NTFCM0UzQikpKCgweDFCMTY0NERDODkzNzgxQzNFN0Q4Qjk1QkM0NENGMzA5MjlCNDQzNkE1RTIxODgyQURENzIxM0JBOEUwNDYxMUQpKDB4MTlBQURCMDkzNzE4Q0NDMzE5MDlGRjYzQjZBNTk0MkZEQzNGRTdEMjFGNkVDQTQ2QUY4QzM1RjE5NDZFNUE3OCkpKCgweDA5MjE1NjBCRTlFMTU1Mjc0ODE1N0FDOTZENDBBMjJDRjU3QTc4QTg4NDA2QkI3OEEzMEEyRTE4RDIwRThBMDcpKDB4MjJBMkEwRTZDNEU1NUJFMzAxQTZCQkREMzVEOUExNkQ3RTgxMDBGNTlCQkI0MEQ0OUIzQTFGRjVENEI1OUJDRSkpKCgweDNBQjlEN0YyQUM0Qzc2REUyREE5MzkxNTc0MURBRDREQTVBNDhFRUQ1NDRFRjQwN0IzNjY3MzE5N0YxNkI0QzgpKDB4M0ZBNjNFMTA0MThCRkYwMjBFMDNCOEVERjk0MkU0MTFFQzdBRTZDOTdEOTA2OTg2MzFBNEM3ODY1NkM4OTBFMCkpKSkoeigoMHgyQzk3Mjc1N0YwNkI2MzIzRDU5MTZDNzdEQzlGQTI4MDI2MzI0QUY3MzI0NTE1MEFEOEZGMjg3NDQ2NUVDNjEyKSgweDFCODZFNjkwQkVBQjJBRkREMkI1RkU3RDA1QkE1RDI3REJFRTVBN0I3MUYyOUY3Q0JCMTdGNkY0NDdFMDE5N0QpKSkocygoKDB4MDY3MkE5M0QyMjU5OTcwNEY5MDlBRjk0QUY4MTBGNTZBQjUxMDlEQTdBQTlGRDYwNTM3MjA2NzFBRDRFNTBFOCkoMHgxQzNCMDM0Q0I4OTE4QUZGOTg5QjBFMUZCREQxM0Y3M0I4MDcwNzJEMDNCQUZDOTY4MEYxN0JGQUYyQkI2NURBKSkoKDB4MTYxMjc1QkIwQzAwNTRGMjJDQ0EwNkJFOTE2RDZDN0ZCQzQ5Q0NDMDU5N0RGOEU2OEQyMjZCRjg2MjgxQUQ1RikoMHgyMDI2QjEzNTdFRThERDMwRkUyMEIxOTVDQjA2NUUzMTg3OEI5MkMxQ0U3RUJDOUNBMDA5NTI0Rjg1MUY2QkYyKSkoKDB4MUYyNURENTI0MTAwQzYwODlEODRDM0NCNzVFODE5QTdEN0Y5ODczNzJBMDJEODBFNURBMjhFREIyOUVFOTUwQikoMHgyREJGOEU5NTlGQUIyNzVDOEI1M0RGMkE0NUQ3MzhCNjNENkEyRUYyMTgzQjZGMDg4RjEwOUI2NDExQzE5OEFGKSkoKDB4MDJEMTMyNUNCNzMyMjJFQ0VBRjY4NDQxNUE2QzJGMTU0RTNCOUZCMjg2MTdCRkQwNTNBRjE3MDA0REJCOTgxRSkoMHgwRUEyNEZENzE0RDA0MEVFRkQxMDA2MUYxNTBCNUM2QUI1QkY1OEIxMEY0NzY4RUVBNDgxQTlGNDY1QkY4MjFCKSkoKDB4M0RGMjI1ODE3RTVBMDk5QkE2RkJEMUNGQzYzRTZENkUwQTg1N0Q3OEQyQzA5MzE3MDhFNkM4MkIxN0E4NzBBOCkoMHgyQUMzQjcxMUU5OTBEMTYyNUE4RjZBQUIxOUUzMzg1MUQzOEFCNTIzMDExOUE1MkRBQTkxQzZEM0FGNDRCRjM3KSkoKDB4MzI2OTQxRTE5OTNFMzk2MTJEQ0I2NTlERDM4MTQ1OUM2RDlCQTU1Q0ZDMjc4REI3MTdBNEJDMEJDQ0M5QjdDQSkoMHgxRUFBRjdBMEUzQ0I0RUU4NjI3NjcwQUI1RjVBREY0NDk5N0JDQjM4MjNCQTI0MjEwRDA4QUYzRjkzODA5ODI5KSkpKShnZW5lcmljX3NlbGVjdG9yKCgweDJENTEzNjhEOUQzMEU5RkY0MDJDM0YzNTU5RUFDNjBBQTc4QzRCQTQzRjdGMjA3M0Y0NDA1Q0U1NDA4NUU1QTEpKDB4M0E0RjcxRTYyOEJEOTRGNzYzNzExRTE3OTUwRTEwQjhCRTE5QkZGMjczOTg5QzdCQ0JBNjYwNzJEMUZFQUE0RCkpKShwb3NlaWRvbl9zZWxlY3RvcigoMHgxQjZGMDhBRTkxMDQwQ0E2NDU2OTBEQjZCMDAzNDMyRDE1RUZBMDZFNTk1Rjk1OTVGOTQzQzhCRUYwNjY4RDczKSgweDM2QTZEMzhCQjc1Nzk4MTRFNzcxQ0Y4Mjc3Q0VDNDg0MkY5NTFDRjlFMzZBNkFFMTg5NkRDNjRBMDU4NkE0NTMpKSkoY29tcGxldGVfYWRkX3NlbGVjdG9yKCgweDM3M0EwQTc0N0UwMzM2QjcxNDI5QjIxNkU3MTFFMjFBNkE4Mjc4NDE4NTQ2MjFGNDBERDYzMzVFQzM3NDZCRjcpKDB4MDAyNkEwQzE3NkI3MUFBOUZCRkM0NTNDN0JDMzQwRUIxQkNCNDA3QzFEQ0U3QzdEN0I2QUE2QUJBRDlDQkZEMikpKShtdWxfc2VsZWN0b3IoKDB4M0I3MDY5MDBGNzRDOThEODlERjNENDAxQTM0ODRFN0RBQTE2REM5Mzk1OUM5MUE3OUE4QjEwOERDNkMxQkJBMykoMHgxMjExOEE3N0Q1NzZDMzUwRERFMzcyRjQzQ0Y1RDIxMUJGRkY3NDVDMEI0REYzNDQ5QjdEQUZCRUYzOTJFNDc2KSkpKGVtdWxfc2VsZWN0b3IoKDB4Mzc5M0RFMjFGMDY5Mzk2NEJBMzAxN0E1MkE4OEE3RTMzRDRGRjA1NUZDNTI0MUQ4MkY4NkJFNzNFQTYyRTE1MSkoMHgwQTMyNkE4QzVBMjJDNUU0NjA1RDFBQzE4MzQ4MDNEODExNzVCRjQzRjdEREY5OENGM0U2MDYxQTYzNUE1QUE3KSkpKGVuZG9tdWxfc2NhbGFyX3NlbGVjdG9yKCgweDA2MzU1QUM5MDY3QkI1MzY5RTQ5OTk2OUQwODI3QTk4M0U2NDA1MDU4RDJCRjZBRkVGOTU3MTdDQjdBQTIxMUIpKDB4MjhDMjZFRTZFMjBGRDE3M0VEMUIxRjhFRTJEMzExNTQ4Rjg0MDQ5RkQwOTVEOTdFM0Q0NUE1RUVEQUI2NTMxNSkpKShyYW5nZV9jaGVjazBfc2VsZWN0b3IoKCgweDJCM0UyODFDQUYyQkQ1NDNCREFGRTEzNUE0MkMxQkNDNzUxQThCNUI1NDg0OUU5Nzk5OTQ3M0M1NTA2Q0YzRDUpKDB4MkE0QkU3Mzk4MzlBODM3QzkzREFDQzVCRDY0MDdERTBBRTYyMEVDODE1NDA4RDM1MzdCN0EwRERCMTgwM0ZCNSkpKSkocmFuZ2VfY2hlY2sxX3NlbGVjdG9yKCgoMHgxNEU2NjNGQjQ3OTkxREFDQTIyODE4OUMwRkI5RjZEMDU5ODZERTdCM0M0NzM4QTM3RDExMURCMjRGOTVCMkI4KSgweDI0MTFFREFDMUJGRkY0NUJENkI1NDJDOTc4MzQ0MjU0MDNBM0I1M0YzNTgzMzA3QzhGNDVFRkFDQzNFRTQwM0QpKSkpKGZvcmVpZ25fZmllbGRfYWRkX3NlbGVjdG9yKCgoMHgwRUJBNzg2NzY4QjFDNDhGMUNGRDY2Mzc1MDVBQ0MwMzFFN0IxMDQxNkZBNEMyRjRDQTQ3RkY4NTk4NjA3MDM1KSgweDExODI4MDc2MzNFN0I4MUY5NzM2RDcwMUI3QUMzRDg4N0Q4MzkzMkZBQkU2OUY0QzE3QURCMDQ5QkVFQTdEQTIpKSkpKGZvcmVpZ25fZmllbGRfbXVsX3NlbGVjdG9yKCkpKHhvcl9zZWxlY3RvcigpKShyb3Rfc2VsZWN0b3IoKSkobG9va3VwX2FnZ3JlZ2F0aW9uKCgoMHgzQUJFREE3NjBFODBDNjg4NjM1RjQzQkJFNUE4NzQ0QTk2ODZCNzU5QUJDMTUyNjg4RUJBOUFCRjdGMUQ5OTdFKSgweDM5NDIwNDRBRkQzQTQ2RDgyQzJBMUQ1OTJCRTZCMDYwQTgwRTIyRDlCQjI3MDY2ODYyQ0NFNDRCQjUxQzI2REEpKSkpKGxvb2t1cF90YWJsZSgoKDB4Mzc0MkM2NTI3OURBQThBODY5NzU3QzgxMjAzRTI2Q0NEODY5Q0IzMkFCMkFBQ0VDMDk1MzlCNDI3RUU5RUNFRSkoMHgzQjI0MzJEMEIwNkVGMDFFRjc0RTU2OEVEMDE1N0FFNDUyNUExOUIyNDU4NEU3NzY2QkE4MDAzODJBMUYxM0U3KSkpKShsb29rdXBfc29ydGVkKCgoKDB4Mjk5MkRFOUFDMzJBQzc2MzkyQ0E1MkM2MkU0Q0YxMjkxRDBGQzMwNTI3OEFBMzlGRjFCMDA1RTUwRTM1NzU1NykoMHgwNkQzMkJERTY0MUREQ0MzOUI4OTZBMkY1QzBBOTJGNTVFNkQ2MDM2NTNFRTA3QTI5MjBFRjIxMkQyNzhGQjRBKSkpKCgoMHgyRDlEOTBFNDFDQUFBNzU0RUREQjQwMTA0QUZFRkM1RkFGQzgzNDdEODZFNzBCNTI2MkQ1NzEwMENDRTIyQ0NCKSgweDJBMzQxMzIyODhGRDA3N0YwODNCQ0RGMTg4QTMwRTgyRjE0Mzg0QzJBMjk1NEE5REE2RjFBODE4OUEyMUQ1RUYpKSkoKCgweDA2MkJGNjYwRjAxMEEyQkFBREY3OEIyRjlGRkE2OTM2NDMxMjBGNTdBMzk3Q0NENkM0QjMzRjA2RUE0RTM0MDYpKDB4MTQ5ODgxQUE2M0JEMTk4M0ZEQjY3NUUyOENERUNBQTk5NUYzNzQ5NjU1OTQ2NTJBNjVENDJDNzAyMkVFOTBEMCkpKSgoKDB4MzFFQTFFNzMxNjc5MDAwMzM0QkM5MEQwODdENTg3Nzk0NzRGRkI2QUZDNDU0ODkyN0MyM0VCMkZDMjg2MUI0OSkoMHgxRDA4RkVGRjMxOTU5RUZCQkFDODE0MzFDRUY4MkNBMDJFNDJBMDAzNjBGNDg0MTkxOTY0QzI1QjI1NTU0RDlBKSkpKCgoMHgxRjUxRTQ1QzNGM0U4QzUwRkE0MUJFRjRFQTZFMkUyQUY0OUNFMDRBREFBNTIwOEY4QTg3MTE4RjJCOEExRTQ4KSgweDI4RkRFMUMzNTI4RTU0MENBNjhCNTg0MjJFN0U4MDc2NzY5MEU3N0VDNjNERjdERDVBRUE5NTExN0JEQ0QwOTQpKSkpKShydW50aW1lX2xvb2t1cF90YWJsZSgpKShydW50aW1lX2xvb2t1cF90YWJsZV9zZWxlY3RvcigpKSh4b3JfbG9va3VwX3NlbGVjdG9yKCkpKGxvb2t1cF9nYXRlX2xvb2t1cF9zZWxlY3RvcigpKShyYW5nZV9jaGVja19sb29rdXBfc2VsZWN0b3IoKCgweDIzN0VFM0NGNTJENTU4OEExMzI3RDNDQTMxRTg3MjRGNDU3Q0UxNzlGOTA2Rjg2QjA0QTRCODIwRjIzMjBGMzcpKDB4MjM0NDM4RTBFNzMzOTU4NTBDQjgyN0MxNUUyRUI3MDRFOTQ2MDk4NjdEQkRGRDM5QUFFMTdENEZDNTA0MzJBOSkpKSkoZm9yZWlnbl9maWVsZF9tdWxfbG9va3VwX3NlbGVjdG9yKCkpKSkpKShmdF9ldmFsMSAweDE2OEU4QUU3NkUyMEE0NTUyNjk5RDM1MkMyOEQ1MEE3MTM1NTU5NTc0MzcyMEZFNENDNzFCMjg5MUNFNjE4Q0MpKSkocHJvb2YoKGNvbW1pdG1lbnRzKCh3X2NvbW0oKDB4MzI3QThENUY5REQyMzIwNDhBNDE5RTc5QkEyQ0E4OUQxQzgyQjM5NDZDRTFBNEZCNzkyREM0RjI3NUExMUU0QiAweDE4QkEyNkI0OEY3RTEzRTYzM0E5MEM4OTBEMDE3NzlDMjU2M0E5OTczMUNCMkExMDU3Qjg2NEM4MUUwRERCOTgpKDB4MDZGMUM4OUEyRUU1OUYxMDNDRDJBNjA5ODk1MTczOUQ2NThGRTI2NTgxNjc4NEY4RjhGN0Y4RjBFMzZDRENGNiAweDNDM0FGQ0ZCQTg2QTAyM0M3MjZCMjUxMDI5Rjk5ODExNjM0NUEwMkZBMUE0OTA2RjQ5RDQ3MkU2QzQ1OEZGM0YpKDB4MTI2MTIyRTE2ODFCMkRFNUQ0RUVCNDVENThBRjE4NDIyNUY4QTEwMDREOUEwMjE4OTRCM0I1QzY1NzMzNDZFRiAweDE1NTAxREJDMzhGNjA0N0M4QjRDOUYyOUQyMzkzNDA2RUQ0NzI5MkYwMzM4MzQ0RDI4QUMzN0I1QTM0RUM5QUEpKDB4MUQyODIzMkM5RDRBNzI5RTJGMTdFM0Q3N0ZGNkJCRTVERTU1QTFFODAxNTU3OEQ1RENBRjI5OTg2REIzNUU3OSAweDE3NEZBQzI0NTM2MTkxRENENDJGNTkxMEJFOUYyMDhCN0FGQTRFMDYyQTZBRERDNDZBNUI3N0I4OTI5OUQ2QjQpKDB4MzE3QkREMUUyNDYwMEQ3RDFBQzU2MkY4MEREOTU1Q0FCOTlEOUQ3MjAxRDkyM0E2MDYxMDc3ODlGOTVFQzQ4RCAweDA1MDk5ODgxMzI0NUE5QzBBMEYxQjlBMTlEMjQ0QzM4OTI4M0MwRDE5M0Y5QjM4NUREMjc4MEE5OEJCOEE3NEYpKDB4MkJDMzg1Q0QyNThFQ0Y5MTVBMUI3MjE0QkVEMjZDRjEzNjI4MDI3MjQ1NTk5QkUyMzIzNDE1RTFDMDJBNEQ2QyAweDI1NzhFRThEMzhCRTJBNkM1ODAzMjkzM0M1QTY2QjE0ODk0MTA2QjVEQ0JFREMxMEJCRTlGOUJFQkUxN0VBM0IpKDB4MUUxQzFGOEZEQTUwMEY4RjRCN0E2QjAzRUU1ODkwMDQ2QkJFNjBCOUIyQjJFNUIzRTM1QTg5OTk5MkRFNjc5NiAweDA0NjM5NkNEMTlBRENCQTQ5MEIwOEU0NjUwRjhFM0JEOEE2QjNDMzRDNzE3MDIwOTFFNjVFOUQ3NjRCMkIwQzUpKDB4MDhDOTBCOUMyM0Q3NUNBMTA3MzQwMTU2QUNBNDc5N0U2MDJDNDUzRDg1QzMxRDM4ODJDMjZDODJDOTc2QjQ0MyAweDJDNTkxMTAzMjRCM0E2NTY4MUQ0RTBDQkFFMkY4QUI0QjMwMTU5OTFDQjNEQkZEQkREQzdGRjg5MTNDRjU1RTMpKDB4MkNFNEQ5NTk0NzAwNTI5MjgxMzczQkNEMEE3QTMwOTAyRDFDRjdERjAwNEY4RDNDMkIzRTc1QzU3QUY5ODM5MiAweDAyQTJBRTg4N0I1QUZGODAzMUVDMjBBNDVBNUE4NjBGODYyRTdBQjdGRUExMzE4OTc5QjFCN0U1MzE0NzkxNTIpKDB4MTJERDU3NTFEQTREOTRCMDlGMkJERjRBNjI2NDY3Q0EwNjAwRkQ4NzlGRDI3NEVGRThBN0MzRjkzQkVCQjVBOCAweDA3MTlENTYzMkREMDZBQ0YzQUQ5NDVDQ0MxQjVBNjUyQTFGMDg0QTNDMDIyQ0RBMEEzMDVDMTIyMENGNjhDMUQpKDB4MjAwNzlGOUFCM0FFQ0I4MjAwOURCMEY3RUEyNzU1NjI0RDM4MDREMkFEQjBEMUI3NkExMjgzQTg3ODQ3RTg4OSAweDM2RDdERkRGRDg3Q0RCQkQ5MjgwMDEzMTY1NzU5Q0QxNkVFMzJDODc3NkZFMTkxMUZFMTA0QTIzQ0QxNTAyRjQpKDB4MzkxREJBMjE4RDVDQzRGOEY4QzZCMDE3REFCOTQzMUQ1ODg4M0RCMkFBRTUyNzYxNUI0MDg3NjY5MjRBQTlERCAweDM0M0I3ODM5NjhGOEEzM0NBRjZDNDI4OENCQjIzQjJFM0ZBRUYwRjNFRjQzMzhFRTIzRUZCRjE5QjIzQTJGQTEpKDB4MTVFODAzMUFGNzVCNzQ5OTc2QjgwMUUxMDRDODlGNzY2N0VFRUE3QkE2ODlBOEVCNDc5NkU4MTNEODQ5MDQ1OCAweDE4NTcwOUY5N0EzMEFEMEQ2MTZFRTY0NkEzNzAyMjE2MTUxRTFCQ0Y0RDc3OEI4RERBNUFENEMyQjE0MEQwRDcpKDB4MEExRTQyRDZFNTNGNjlFM0E3OEE4REJBQzc4MkE4QzMzMUJBMUIzNEM1MDNGMTIwQTQ1NDBCOUVCMDI5OTAwNSAweDI0N0YwQzFCRUMwRDIzOUMxQUI3QUFGMDBDMjZFN0UzQjAwRkQyMTVGOTRGQjAyNkVDRDJCNkNGMEQwMTE0N0YpKDB4M0M0MEE5NkM2QjI0NjBDNTYzMEE5Mzg4MzIwOTM5OTMxOUIwMzg1QUI3MjNBNDdGQTk3MTU3RkJCREYxQUQ2NiAweDEyNjdBMTcyREUwQTIwRjZGNjUzNTAzNDU5RDMxQzQzNjcwNDlGQzM4OEZGMzNCNjNFQjY1MUE0Q0Y1RDA4OTkpKSkoel9jb21tKDB4MzY1RUM0NTBDN0ZCOTUzMTU1MUFENzRGOTk4OTA5OUI0OEM3NTQyNkM3QjFERDIyM0I5QTRCRUJDRUYxNUMxMSAweDFCQ0NERDYzRjlBRENFMjVDQzFGMzY2N0NFNkE4NjVEQzRCNEQ1MEYzMUIyMzZDMzhFOTk1RkNCQzQxMDY2NUYpKSh0X2NvbW0oKDB4MDlEMzAyQ0JERkMwQTdDOTM1QzY4RkIxMzM0QTFFMEJERjUxMzE5REE4RjhGQ0I4Mzg4Q0YxQjJFODZDNzI2OSAweDI2NkVFRDcwRUQxNDFDN0U3MzUwMzY3OUVBNDI1OTIzNzZDODhEMDNERDY0QjA5NTkzQkI1Qjc0NkMyQkNFNjQpKDB4MkNENDg0QzcxOUZBMzAwRDRGQzc1QzEyRDcwQTIyMUQwRDcxNjBERDFGQ0IwRDM0NDYwMzFFQjhERjgyMUZDRSAweDMwQzlDNkJDQjIwMTk0N0JEN0M4QjQ2QjdFQjI1QTc4MTI2QTdEOTc1NjJCMUJCQkEwRDM0RkIzNzA3QUI0OTkpKDB4MjRCREMyQzQ1QTE0Njk5NEFGMjg1NTg0MzYwRTFGRkYzRjk2NkJBQUU0MzU5MENBQTUwOEIzNTY1QzE1MTc1RiAweDM0QzIzNUJCNjE3QzBCMjJDQTUzNkY4NTJEMDk0MjEzOUE0QTJBREQxRDA4NDUwMTY0Q0NCNTVCQkE0MkUwQUUpKDB4MDUxQzE5RjFGNEU2RUYxQzJGRkZGMjdDMTVEMDIwQUI2RTE0MUVEMUJBNzYxRDA1MUZDRUJEOTM3MEQ3RkQ1RiAweDExOTlGQzU5OTQ5RjM0QkQ1NThFNENEMTRGNDI0MzMxQzc5REQ4NTZBNzVCRUIzMDVFQTIxNkI0NERFNzg0OTEpKDB4MjRDNzRENzFEQTk4ODI4Njk1RDNCN0M4Njg4ODZCMzc3RkE2QzE4Q0FFRDI0RjEwMjYzNEU4NEE0RDMwQTA2MiAweDEzOTA4OTkyNDQyRjQ3OTk0QUY4RENBNTIzMkRFRDRGMEY0NEQ2QkYwODIxQTc3Qzg0RUYxRTcxQzY4ODE2NDgpKDB4MzMyRjE5N0YzQzlFQzQ5MEFBRTY4QURCQUFEQjBFMUMzREJBNDA5MzhGRUFEQ0MwM0ZEMzQyRDVFOTUwOEFCMyAweDExMjJBRkE0QzBGNjRDMkNEMTgwRENGNUJCOTU2QUY2NDg5N0ZENEZFRUI0MUU1RUQ5NkIyMTA3NDY2M0I5NUIpKDB4MjBEOUY2REQ5MjlDOTQzRjE2NzkwRjQ0RkFDNzBBQzRFNERDQ0I2M0NERjk2RkRBRDRCNTUwMjQ1QzE5NDhCRSAweDI4RjU1RUIxMDQyNkVENzJBRUE5NjEwMTgwOUI4NTNFOEM1Q0M3RUQ5RjJBNEFBNTUxREVGOUU3REI1QUMyNDUpKSkpKShldmFsdWF0aW9ucygodygoMHgwMTlBNzE0REEyOTc5NUQyODEwMzcwNzIzMDc4MDFGRjFGMzQyQTNERkZFRDI2NTBGRDA5MkI3QUMyN0Y3NzA5IDB4MUFEMENDODA5OTFERjA4QjU3QTcxMEQzRjBCQ0NCQzdFNjM1MkIzN0YyRTZGMUU1OEIzMzAxRTk3REI0ODZFNSkoMHgyNTRGOTlGRjlEODhGMTYwRjYyOEIzMjQ2NTE4NDI2RTJFQ0MwMTFCQTJBODkzNzY2RUNDNzUzQUJCNjMyRjlEIDB4MzVBNDVGQzJCMjdDOUEwMzU5MEEyRkNGNzA1MzA1MUNDODk3QzFBOTkxQjM0M0RDM0RBRkE5Mzk4QTI4RjVFQikoMHgwRDA5RTBGMEQxOEQ2QzQ3QTY1RjcwMURGMDRBMzFBODMzRTcxQUM1MkNBMzA5QzlEMkY1RjVFNjFCRUYxODFFIDB4MzU1NjE3RjE4MUQyOUJDQUZEMTRFMjI3MTY3MDlGMzQ4Mzc2QkUzNzM0MzA1Q0MxNUJCMDVEOTJGRUM0NjU5MCkoMHgyRDcxNURCNTYzNEE4ODRENTBBQjc2OTI1OTJBNTZBNjBFMDVFM0UwNUQwQzk4RkRFMDRBQTY0NzkzOUU2NDJFIDB4MkMwRDdEN0QyNUEzM0I1MkM2MDc1M0VCREJFMERCNEMwRDAxOTMyRTkwMjQzNjY2QkY4OUI0OEFDQkIzMjBDRikoMHgxMEJENkVCNkI1RTQzNEE0REVGQTVERDI4QjNGNkVCQzAxMjUwNzg4MkQxQkVDRDFGRkY1RjRERDg1OEMzQjY2IDB4MkZFM0E0OTNBOUM1MzQ1QzA4MTYzMjBFODkxNEU5QTU0OTZEMUE3NTYwMDY2RkU0OTIzNTkwOUREOUE1QUE5QykoMHgxRThDREE2RjY3ODZBOUI5Q0E3QzM2RjkxNTY4Q0E2Qjk3MTVEOTMxQjdBNTE0MTA3ODFCNzYyQTQ0OTdGMzIxIDB4MEQ4NUZBQzUzOTQwMTE0QjYzQTkxMEZCOEIwOTAxMzlBNDg2QkRERjBBNjA5RTM2QkVCRTVERUVCRTI1NTIyOSkoMHgwQTlFNUI1RTI0QTNEQ0MyQTI4NUUyRjlEQzMxMThENDJFMDU4MEY2MUNCMkRCRTQ0NUVEODkxQ0ZDODQ3Nzg5IDB4MzAzQUFBRjI5RkMxQUQyRTExRTE1RTc0NjZDN0E0MjNEMkIzMDc4Njg1RUJFRTZCQkRERjREMzg0NUREODE5RikoMHgyNjI3MzYzRDk3OTAyNDRGMjQyQjExRkM0MkY2NEQwMzAyMzE4NTlEQkMxOEZERUEyOUZGOEM2RTczQTk0N0Q5IDB4MzNCMzgwRTBBNjU2MDgzRTVEOEEwRkVDMDRBRkUzMDhCNUU2QjlBQjMyRkQwMEJEOUQwOEEyQUJBNDM2MjIxNikoMHgwN0E4NkJDMTAzNTgwQTExRkY2QjA3QzM5NUZCMkJFOEQyOTE2MkU0MjVBRDIyNDY4M0Y4ODBBMEIwMzY1ODIxIDB4MTYwMTc5QUM5Qzg4MTc0NEY1OTY3MEI3RTM3RTczOEJGM0NFRkFCMzBFNTMxMzQ1OEVENjFCRDg5MjI5RjVFNCkoMHgyNUI1OTc2NTQ5RjdFQzY0RUQ3MzdCQzVDRTY2NEQyMjVBNzdGMkE5NjgyQTA0RDFBREQyRTFBRUQ3NDY2Nzc1IDB4MjlGRjcyRkZBMTNEOEYzMTRGOEY4MzcyMEVEMzc1RTdCRUY1NjA3MjQ4NjFCNDhFNjVFQTFCNDBBNjA4QkI5QykoMHgzODVEREU2QTBEOUUyQTU1NjBCREREMjY3RjJGNTA4QjhEOTYwQTRDN0E4RkE3ODk4ODREOUI0RjQ5ODZBMTcwIDB4MkQwMzM4RUFGQjM0MEFFNTQ3RDcwNEM0MkEyNjY2MEEzMkY4RTQ5NTNCQzExOTNFRTY5RERCRjBEODBCQkFBMykoMHgyNjlCQjZBMEIzQjEzQkU3MjFENEU4NjQyM0JGNjA0QUVFRURCM0U1RDBGRUVDN0Q5Njg0MUQ0NTg5MzNDRTczIDB4M0YwQjc5OEQxRDdDRkU2QjI5NjA5QjE0Nzg0MUY2MzY0M0FFRDQ0QzJERjlFRTg1OTlCOEU3NzRDQjhFMjgwMSkoMHgyRTY3NjU1NzZDRTQ3NUVBOTU3RkFDRjYxMEQwNkQxNTJEQjhGNDRBNDVFN0YxRkNCNEQ0MzNEREE1MEFENDc3IDB4MTFCNDk0MDdDMTgxRjQyMDQ3OTZDQ0E0OTNBQkE3Mzc3RjA3NDZGNDRGNEJDQ0QzQ0FDNURENTREODdBMjdCNikoMHgwRTM1MDM2MTAwOTA0ODI1MjRBOTI0NkZBMkE2NzU3MDY4OUZFMzcwNDg4NTE5NzVDQTZCQjVCQjAyNUYwRUE4IDB4MzkzNzc3RUY4QUFDODAwQ0M0QTRCMEFBNjhFRjk3NTMxRjEyQjE0QUM1QkZGQjEwNjQ3QTJCMzIxMDFDQjU0OCkoMHgwRDU0NkQwQjJCN0E3N0YzOUNBNzZGRDBCNUQyNTJEMUE2MkY2OTgzOTFFRTM1MjYxNEIyRkM4QTRFRTkxREIyIDB4MkI0NzBGRkE0RDRFMTAwQUIzMDgxQjE5NzBDOTNCOUQxMDc2RjY2MThFREM2QjcxQTFEMzU3NTlENzBFOUE4MykpKShjb2VmZmljaWVudHMoKDB4MTUzRDEyRkU2NjgzNTVGNTJBRkQ1MDEwQjk5RjYyQzdGN0Y3Q0EwOUNFRUI3QTE2QTJCRjMwRENFMjMwNDFCRCAweDE0OEI4Qzc5ODhEMTExNkNDMUQxRTU0RDFGOUYwMDk5RjNCMEQ4N0ZDQkM2OUNCQjRBOEYwMTVDNUQyRkVCMUUpKDB4M0UzQzY3RDY1MkEzQkI5OEQxQkY4N0RCODk5RjdFMTQ5OTY3MUQ0NTM1QzkwQzhDOEFCREQ4MTgyOEFEMzc2MSAweDA0REI5MTJCRjUyRkJCMTFFMjEzMDI3OEU0MjFFOTAxQzA5NTQzMDU0MTlEQkU0QUU2OUEzRTlENkY1MjQwNzcpKDB4MTgyNEYxMkU1NTg4OTM2NDNDMzExRUQ2NzIzMTAzNUVFODlDOUVGODJENkMzRUFGMUYyODZCNzExMkVFMTNGMyAweDExMTY4OURCRjJCQUI1NEY2NkQzQ0EwNUQ2NERCNEFGQzdBQ0JERTQ1N0FGRTI2RTQyREM0MDQ4MzA4QTQ5MjIpKDB4MEE2Q0YzRkI2NUMwNDAxMkM2QkM2NkI5QkI4ODRBREI4MjZGNEVENENCNDNDNjdFMkQwMzY3QkUxMzkyNDNEMyAweDFDNzlBQkIxNjJEMTE4QzI4MkUzRkU4MjdFRDNDOTRGOTg4QkZCNjhFNTEwMzBBQjA5ODMyQjg2NzhCMzlEMkIpKDB4MzlDRTQ0QTcwMEM4MTUzNDc3QkM0RkNEOTIyMzk4NDk5MENDNzBEQTFEMDgwQzA3ODQ2N0I0NEE4NkUzNEE2MSAweDBFMTlFOTdCMTkzQThCNDk2MjhCNDczODc2RkRGMDA5MTFFRDlBNUYyOEJEMDlBNjZEOTIyNENDMzg0OTQ0MEMpKDB4MzgxNEJGMzIzNTkzQzBDODY2OTYwNThEQUVBN0VFOUE5NzA5MTEwRjQ3QkQ2QTZCRTlCOEZBOEYwQTZFMjc3MiAweDIyOTFERUVCMTc0MTI0QTQ2RTA0MjI4QjI3MjIzMTI0NzA4NDgxMDE0MDJCNzM2MDcwRDY0MkUzQ0ZDMDUwRTUpKDB4M0MzQUFFRDA5NDg0RkM0OTVFNjdCRkVCMkFEMEM1N0Y3QUM2RDFDODg1QzZEMDVEODhDNTY1RkE5MTYxOEVBMiAweDNBMTNEQkQxNDVFMDM0MjRFRTVCRTYwQTdFQ0M2RUQ0RTA3MEYyNUYxNTMwQ0QzMkZERjE2OTIyOTI0NkFDRkEpKDB4MjlBMUJEQjUzNDNBRjJEQzg4MjUwM0U2RjhCQUUzQjQyRUU4REVCOUI2Qjc4QjhCQjdFMDE3RDIxNkExMTc5NiAweDA3MUJENkExNzc0MzgyNzFERjQ0NDE0RTdBNDlEOTNCMUY5NDY1OThFQkM2N0JGRTI4REMxQUQzMDdGMzJBMUIpKDB4MENGMTMwNTBEQjg1MkQ5M0M3Q0VGNUUzMTZCQ0I1RTI2QzczRkQ3OEQ1QUU0MzI2RUNEMjcxMjNENkRCQTExMSAweDFCREM0NTJGQUNCMUEwQUYxRjdCQ0U3NDQ3QTFBODhDMDQ2MTQ0M0QxM0NEQkMzMEVBNjg5RkJGRjEzNjBDMUMpKDB4MDNGNzQ2QzhGMjVCNDQ1QTNBQUVBNzFBRjI2Q0FBNUQxQTY4M0E0M0I3QjNGNzdCREJBMzk3NTUwRTdGOUZGMSAweDAxODU3Q0Y0NDlDOEEwOUVCQUQ5OUFGMEI2RUM1ODFFMzk4RDg0NENGRDVBNDlDMzUxMzVGMEY5RTkwQkU2QTQpKDB4MUYwMEVBRkNFQUU5NzY4MTQ1M0I2MzQ5NTlFM0MxODEzNTI5NDU5RjI2NTZCNDZBNDdDMDk4N0VFNENCQUUxMyAweDE2QzI5M0Q1MUQyMUU4NzUyNUUzNjc0QUU4NDQyNTlCNUI2NEJDRDUyN0I1RTRGNzNENTU2RThFNDlERkMxODIpKDB4MTM2M0U2NTZCNDMzQ0RBNDY2NzI1RTU5MTkwQzA3RjBDMEZBQjMzRDBFMDM5NkVENjMxODk3NURDQURDNEY3NCAweDJBRjYzNEFFQTJCNTE2RUVFN0FCREJFMUQyOTlEMkM1MDVDQjMwRkZDRTVCNDIxMkIxMzUxMzQ0QUM0OTgyOEIpKDB4MTFFNDY2QkYyRDJDMTAxODJFMDNDRkI1REI5MUNBNTRBNkExMTk4QkExMTQ0RUFCQkYyMDM1NDNFMDZCMjUzMCAweDM2NDc4Qjg5NzcwRjE5QzA5NzQ2Q0Y2Q0Y5N0UwQTFEMzNFMDMyQTZCNTE5MUVFMjgwNDY0NUQwRjVGN0VGRTcpKDB4MjdFRjQ0NkJDRDc1NDVEMzFDNzEyOTI3NENDRjgzRDcxRUMzMUNGQ0RDM0NEMDg3Mzg4QkM1QTFGNDAwNTRFNCAweDBDNUIwNUQ1NjdFMzk4M0YxNkRCMzQ5QkMzNEU4ODBGQUFBMThBRjJENzk0NjkyNEM5NjRGNTdCNjRDNEZFNDMpKDB4MEY5QjVDOUI1Q0IyQTFGNkIwRTc2NjVFMDM2N0FEOTNFRkEwOTBENTNEMTdBOTk4MTZDNDk3N0FBQkMyRUMxQSAweDFGMEU2QURGMjQ1MkFFQjNDRjk1NkM5RDhEMkNCNUI5OEM5MDVFRTdFRTA3MDk0NkYyQjc4REIzRkI5NEY1MjEpKSkoeigweDM4NDY1REY5REIxRTg0QUJCRTUzMjVFMTk2ODlEODUzRjE2ODdBNDhFRDQ0ODhDRjc0OEE4QjJFMDQwQUE1RkEgMHgyMDRDOUNBMzkxREMyRjI1M0IzQkRGODhFQ0ExQzEyNEQwMjMxNDY5NURFNjYyMTE4MDU3QjlFQkFDRUQ2OUI0KSkocygoMHgxNUQyMEVFNDE3MjEzRUE2MjkzMzg1NDlGQUQ4NjE1RENFOUI4Mzc1MzMxMUExQ0UyMTcyMkNCOTI5RkYwMDRGIDB4MEM5ODk3MDk4MzBFMTA1NzU5MkM3MkQ1NTdEMTFGODdDNUY0RUVFNzMyREMxNzU0NTBERUUzNEY4RUVENzM4NykoMHgyQTYyOEVBRUI5NjJGMjhFNDFDNkI1MjFBMDA2QkI1Njk4MDZBQTc2NDcxMTU3MzEyMjgwMzc1QzJFNzkxODVGIDB4MUI2Q0Y0MzA4QzMwRDZEODMxQ0QwNzg2QjM2OTJBQjQyQzQ5QjA1OTNCQTc4MjQyMjMzNURGQkI4Q0QwRkZFMCkoMHgxRTgyNEZCM0E3OEVBNTBENkZBRDVFOEU4NjJFMzk4N0VGRjE0RUZGOTk1QTc3RkM3OUNFNDQxNUFCMzY1OTI3IDB4MTdDQzVDMkM1NkQ4MkZDNERGODRGNkQ5REZDNDY5NDM4MjlGNTc2OTk5RDgwNTMwNDFERUE4REQ3NjI3NEM0NykoMHgwQkIwRkM1Nzc4RDZDNjgzQTNFNzlDMDJBMTg1MUQ5Njg2QTI0RDFFNjdDQUM2NEYxNThFMTU0NURFQUUxOTM1IDB4MzM3NUMzRkFFMjQ3MjJFQ0ZFQUMzOUQ0NjRCMzFGQ0E3QjA1MEFFNkQzOTZDMTM2RjhDODAzNDU5MTMwMDZCNCkoMHgwODA1RDY1NjI0OTEwNTYzNzI4Mzg1N0QzOTc1RDhGRTFCQTFCNzlGMDdFNjk5RDBGNTI1QUNFQTAwODE4NzNDIDB4MjAzNjU1RTI0MDkyMEFCNDg4MDU2QUE0QUQ5RTg5OTk2QTFFQ0Q4MzA4MzZBOEI0Q0U4RTRGRkI4OUQ4MjY4MCkoMHgwMDBCQTY0N0Y0QkFDODkxMEYxNkRGNzg3NjU5NTJGRjc0MjE5REU1NTdBNTREMDE2ODhBQTEzMDMyMzVDMkY4IDB4MkJBN0RDQzhGMjEyQzdBNzNGMkVFMEJFMEEwQzU0RjlCMTVGMkNERjZDRDMwMkY1NEU3NEU4NzFFNzM1OUQ3NCkpKShnZW5lcmljX3NlbGVjdG9yKDB4MENCRERFRTU1OUEyMUI2MTYxMUZGMTg5NEMzNTRCOUNFNTE4ODE0NUY0RjM0QzVBQzE2NEM5RERDQkY0OEU1MCAweDFDQUMzRjczMkZEMDYxRjJDNTY0NUM3QjFEOTE5Q0YyMkNENUNBMTZGN0Q2QUIwNEFENTIwODFCQjc3NDYyMUEpKShwb3NlaWRvbl9zZWxlY3RvcigweDJEMzY0NjY4M0JGQjQzMUY4MzU0MUQwREQ0QTQwMkZDNEFFMUMwOTA1RjRBM0JGMTFFODQ5QjEzODQzNDk5NDEgMHgxQjg5N0FGNjZDNDRCQkIyRUE3MTMzOEExMDUyRDBENjMxNkU2RDAyNzI3RTE3MkNERTAwOTdBQjJEQUVDOTFFKSkoY29tcGxldGVfYWRkX3NlbGVjdG9yKDB4MkNDOTVCOEQ2QkRGQkRCNjhFODBDMDY2RTQwMDgxNzY5MkE3MUE3REJDRTcyNTFCQTQ0QjRCRkM3MUI5QjE1OCAweDAzQ0RDNTY5QThDMjZCNTZGQzAwOTM4NEY3OTRDMzY2MzY1MjU4QUY0M0FENjFBMTk1NkUyQjNCQ0EzMUU3MjMpKShtdWxfc2VsZWN0b3IoMHgwNDBEMUYwN0NBQ0E5N0JEMjJCMDBBQTFCNzgzNUQ4MURBRUMwQTQxMUNFMzY0MzE2OTg3NTBDNjc4NEM5N0QzIDB4MTFBMDQyQkNGMzEwQUQ3MDZCQzU3RkY3ODFCMjg5MDUxMjVCRkM5QUNBMTc4OTI5NEY2MzQ0NkQ2RjYwMDJDMCkpKGVtdWxfc2VsZWN0b3IoMHgzMTRCRjczOTgyMjE4ODZEMEVEQjA1MTI1RkYzN0M1NzE3RTBFOEE4Q0I4RjBCRTU3QTA4QUExOUI3MDkzRjc1IDB4MzdBQThFQjI3NzU1QzY2NjIyNzNDMEMwQjYwMTJBQ0MwNzg0QkI0NzExNUVEMTgyQ0RCQ0Q1MkYwQ0M5RTQ1MykpKGVuZG9tdWxfc2NhbGFyX3NlbGVjdG9yKDB4M0I0OTJCNDMwNjUxNDNBODg5RkEyOTNEQzVDNDU2QzRFREMzMEQ0Q0FDNDRFREZBRDIxN0MzMkZCRjgwQzA3OSAweDMyMTY0QUE1NUNERkJDRTgwRkQ2N0JFNzAxMTREMzdGODNEMzY0NDZBRTc2NjdENjlEREI5RkFBNkU3NUZCMkYpKSkpKGZ0X2V2YWwxIDB4MzcxMTgyMjQ4NzA3MUM5MzhEMzkyMjRCQTlDRjBDNUY2NTY5RkE5NTE0OUY4NzVFNkI5OTg0MzIyRjNCMDlERCkoYnVsbGV0cHJvb2YoKGxyKCgoMHgwODM0MzFDMzc3NEI3MjY1NjVERTc0RDVGREUyNzZBOUQ4QTI3MTRGNjY0N0Q2MEVDNUQ5RUYwNDI5QjhENkFBIDB4MzY4MkY0N0MxNEY0MEUzRUYxREJBRTU1NURENEVGMEI2NEFCNzJEMUYwRURFMTYyRERENjY4MTkzNzlEMDIyRikoMHgxQTdBNUQ4MDY5MTA0MTI5NUJDNUEzQzY1ODlFNTI1QTI1MTNGRTkzNDFBQjE0ODI1ODAxNTk2REZFNTUyODc5IDB4MDk1RTQ3NDZERUNGRTYwOUJGNTU5NTcyMjA0NDQwNEM5NzMyNDVCODZBRkZBOEUxOTI1QTdDMUFFOThGQTMzNCkpKCgweDE1NEM3MEYwQzQ1MTc2ODYyRjA4NTMyRTdBQTBGMDAzQTAzNzFDN0UzNjQzNzM4RjRBODM4QzYwQTU1MEFDQTggMHgwRjI2QzM1MDc4Mjg4Q0VEMTZEQkVFOEY3MDk5RTIwMTg4QzYzOTNCQjlENjZFMTdENDVBQ0JCRDRCNTBEODVDKSgweDAxN0ZEMzVFRUJFMkJEM0RERDk5RjlFOTlFNkE2QTEwN0U5RjZFNzdGRkJCNURFMTIwRjBEMDkzNkQxMDNCMzIgMHgxMkQwRENDMDJDQjZFODc5QjZERTg4QjAwMzc1M0QyMEU4MjBGMDU4OTVGMDY0QTE0RUIxRkFDQzQwMTZGMzYyKSkoKDB4MjBBM0RDNjU5RjJDMzI0MzA0NjNEMDNFQjU5REYwNTgyNjFBQkNERDZFQTI1OUFFQTgwMEVENEY4OUI1MkY4NiAweDAxODhGMTY5REZFM0M4Rjc5NUYxNDBBQjk1MUU2Q0E5Q0VGRUM2NjU4NjY5NDczRjU1RDA1OUI4ODBGQjg2MUIpKDB4MUZBNzg0M0E1MjhCMjczNTU5OEExRDlCQjA2MkVBNjlBOTJDOTE2RUFDRUM4QTM3RUZDRTU3MkY1NTdGODhCMyAweDEzRTA2MTBGREJFRjE2RjdEMEY0MTAxRUIzMjhCMjJGRkMwOUZBNDhBNTVDMjlGMUQ0MTMyMzhBRTFFMDI5RUYpKSgoMHgxNzE1RTJGNEMxMEEwOTczRDNFRUY5M0QwMDIwMDVCQTc5Qjg5Nzc4NUZDMjIwRDNCQTI2NTYzOEI3NUZEQTFCIDB4MEYwN0I5RkUyN0U1MzU5Qjc3QkYzRkNFOEU2MjFGMTMxRUJCOTBFQzhCMUYzQ0ZGQTNGQkRENTMxOUEyNDRFMykoMHgwRjYyRkE5M0I2MDhBNEE2N0ZBOTM2QjY5NjQ0NkY1NzFDNkU2Q0VEODJBRjE3Mjc4RTE1RDRBRDFGN0M2QzgyIDB4MUNFOUVDNTcxNTU2MDQzMkMzQjA2NTJFMjU1MEI3MDMzQzY0NDRCOTFCQkY0NEJGM0MwNDU4MDUyRDdBMDdENikpKCgweDAwM0I3OUFBRkU3NUFENURCMTA3NTMxQkEyM0I5QkY0ODYxQTVCOTY3QTJFOEQ0MzA3QjM0MDcxOUEzNEYwOEIgMHgyODYwNDc0Mzc4Njc2RUMyNkM3MjlBNkU1OTI2NDc3ODRFOUQ1NEEwNEFERTA5QTg2RTcwRTA0NEZEMEM0QzQ1KSgweDFDQkU1MEE5NEQ0RjE4NUU4NTZEMUEyRTNCMjhDOThGRkMzQjNERUQ2RDNDMEJGODI2RjJBMjQyQTMwMDhBMTAgMHgzNUNBMTVCNTdFMUUwMjM1RTJCN0YwNUQ5RDlCMjYwNjJGQUEzMUY4NzAxMzg0MkE0OThDOTE2MTRDMEYzMTdBKSkoKDB4M0E1N0U2QjNDRTVERjk1ODUzQkYzMjRCRkZGRjg0QjYyNTIyMDE4OTAyNkIwNDAxQzY5NjY2NDVERDBENEMwQSAweDBDRUM3Nzc1NDBEMjQwMkZEODNFNTFFNEM2QUJGNzRBMEI0RjVBQUExOTRFRkQ3RTQ3RkFERkMxODMyRkEyREQpKDB4MjM5MzFEOUFDNDhDNjQyRkIwRDRCMjUwQTU0Nzk4REI2NTI0MkY4MkM3RkREQUNCNzk1Mzk2RTkzNjk0RjNCMSAweDBCQjEyRTc3NTkxNzA3MkM3REM2Mzc0RUI2QTBGMkVCMjQ2NDk0MUVFOTVBQkZGMDcyQUI1N0Y0NDJERDFBMUYpKSgoMHgzRENGQjczNkEzRkM4QURFMTI4NjUwNDU5NjhGREU3MTU5MUMxMzM5QTMyRUUxRTY1MkYwRTI2MzFFRDMyMjk5IDB4MjI1N0Q1REU4MTUxQzU4OEY4MzgwN0FEMTM4NzUxMUNCMjY2MDczRUM0QzJDRDE2Rjg1Mjc0MTUyRDBEQ0FENikoMHgyOUNGRURBMzFGMEY0MEQ2REVEOUIzRkQ0RjlCQ0Q5QTJBMUU3RDYyOUUyM0MxQjIyN0Y4NDBBNEUyRDU3OTQ2IDB4MjVEN0I1RjQxNzYwNjgwQTVBNDYzRDkwOUE0RTA4MDU4RUNEMUNBRDc3RjgxNzU2QTIwMDdCRDVCQzRFMjQ0RSkpKCgweDI1RjBCRjFDQTBDRDY2RkYyN0I3NDdBQTk2NTA1MEZDNTlGM0NFQkE0RTlBMEVEODQ5NTIzQkIwOUE1NzhBQjUgMHgzRjlGNkFDMUY5QTQ1MTlBMDM5NUM2QTVERjJBMjlFMzkxQURFQzUzNUE2NjVGMzg2RTk0OEFCQTc0MUZENDYxKSgweDIyNDBGRDU2NTFFQTM3QzdGNkE2QjVFMzlGNTY3QkQwRTYwQkUzQ0JGNjIxMTA1QUJDNTc3NDUwMkE1MTQ0QkYgMHgyRkFGODYwOTVBMjQ3QkVENzMxMEVGRTNEMzM0M0RCOEY1MjI2NDc1QjBFRUFENDg3OTgyNkQ4REM5MkU1QjhDKSkoKDB4Mzk4NzkzQjRCN0MwOUYyMDRFRTlERTA2NzU0N0UwOTg4MEI2NEVBMDE4NkZEQ0I3NTIzM0Q2Q0ExMTc2QThERiAweDM1OThDMUE5NEU2NzU4OEYzMjU4NEU2QUQ2MjIxNUY3MUYxMTk3MDI5MkY1RDlBMUFCRDVGRjFBRTMwMzE3RUMpKDB4MDQ4QjE1N0Y4ODdBRjA2Q0E4RDlGNTJBQTlEMEExRjRBNTZFQUFBQkRGOEEzNDg0RDdENDY5MjMwOENDMTRDOCAweDI5NzZCMUJFNDg0MkU2NkREMjk5RDcxMDVCNTJDNjQyN0E0Qzk3NTFCRTMxMUQxNkFEQzM1OEE3RUZEQjY1NkMpKSgoMHgxNzQ2QzdGMjIxMzM3NkUzNDczNkRFNUY0OENDQjI1NzZFOEQyMzVDNTFCNUNDODI5RjY0QzE2QjE5NTg5NkVEIDB4MDA4NkZFNTk1MTFCMjE5MDExQ0Y2QjQ2RkREOTZFMTUwQzczQTAxNTgyMjAyRDQwMjVGMzE5QTU2RUQyRjUzMCkoMHgzOTExQkEyRTQ3NTM2RTg3NTI5N0NEMEI1RTRDRTM1MjcxQUI0RkNDMzM1MkNGMEFCQzlERDJBNzlGQTI2MDMzIDB4MDQyQUM0MUFGMEI0REU1MDdGNjM5NUI1M0NGMTUyQjhGNDk4ODU4MDZDQjczRkI4Qzk1M0VERDI3MEYyNTA4MCkpKCgweDIyNjJGQjEwMEFBQzZDRTMxM0QwNDUxRDc3NjQyNzgxMjVGQUQxMzc5NzQxOUNFNkM5QzU5RDU4RjVBREMyRkMgMHgyQTQ0MUUzQzYzNkQ5NTREQUQ2MTZDNTNBN0M0N0UzMzZFMzUzQjJBOTY5QzMyRjBCNTMyNzY2MDI1OTA4NzhEKSgweDEyNzc2ODJERDFGNTM3MjQ3Q0UwNTk3NjBFNzVCNDk2MjAxRTJDN0I5MDQyNEQ4MDlBOTQ3QTE5RjcyOTAwNjEgMHgyN0JFMDc5MjA1QTM1NUREMjFDRDhCNEU3MEVBMjBDOUM4RjQ5NzY1RTA5REVBMEI2MDc2MjUzNzE0QjU3NDRCKSkoKDB4MUVFNjdBNkM2NEQ3QjczNjZENEJGODZFMkJDREI2RUZBQTI2RjI1MTg4QTREQ0RFOUI4ODRGNzE1RDkzMjREMCAweDJEMjY3QzY0NjE2OUFGNjg3OEVBRTZCQjMxQzFDQTlBQUJCQTg3MjI0OTYyOEQzQjE0N0U0QUE1OEU1NUNEODQpKDB4MjI2NENDQzk2MjMwMUVBREY2ODg1QzRDQkUyRjBERkQxMDlDQ0ZDNUY0MDI1QUY2MDMzQzI2Q0QxMzJCRDI5RiAweDM2ODFCOUY3M0QxN0QwMjA3NzRBNDFDQkUyMTZCQ0JCOTgxODVFRTU0RUZFOUVBMTY4MjFBMDY4OEFDMkJDM0QpKSgoMHgzNzAzQjc4QzlFQTlGNjYyQTMzMjNGMkI5OUY1Qjg2MURFMDM5MkE4RTVDQjgwNjU5QkQzMDMyRjM5QkNFMEI4IDB4MDE4QTM5RTU1QzExQUFDOEIxRjg1OEIxMTE0NDIyNkFDRjlGNzIxNzNGOUZDQzUzRDY5NEQzRDE0MEVCQTVEMCkoMHgwNUI1NDA4QkVFOTM1RkQ1RUYzNDk0NTZGOEIxNEVFM0UwQjE0NzQ2MDRERjdBNUZBRTcyRjk5RjUwRjc0NEJGIDB4MDg2MTQ3RjBGOEM2NTUzNzkxM0ExNTRBMjE4ODgxRjk2RkE5NjkyMzcyN0FFNTU2QjUxQjIwRUNCRUQ0Qzg2QykpKCgweDFGN0Y0MDAwOTMyRjY2RjE4ODg2QUNFMURGMzU1OEY4ODdDNzFCQkIxNkJEMUJERUQ1QjI2MkUwRkMwQTM5MTYgMHgzOTE2RTBGMzIyNjYyQzVDQUNERUM2MjAzNTBGRjhDNTYyQjJBOUFEODhDNDVGMUZFQTI2NjNCOEJCNjVFQTU2KSgweDMwNjUxQjIwRTVGRkVCMEI4QTNEMTNGOTJFNThCRjIzNjYyQzVFOTJDQjZBQ0MzMDIxNTJEN0RENzJFRUQ1NDggMHgwQUU2NjE3QzU1NjFGRjAwMDA2OERDQjlCNjlGNjcyREYwRDIwNzI2OEE4OTU1Rjc4NEM2MTI4NkYyNDNCOEJEKSkoKDB4MzgwQ0FFQTc1QTlFNDI1MzQ0NjJGQTU0REQ5NjNDMzIzNkRDM0ZERDI4QUE2QzAxODcxQTAwNkM3RTUyQTQ4MSAweDNEMkIwMDgzNDg4MDk0OUMyOTk5QjI0QjU1NDBEMTgyQURFNURCMjNEQ0FEQTVBOUZGNTYxRjQ2NTFBNkUxNEMpKDB4Mzk1QzMyQTZFMjAzNzc3NTRENzM0RDJCRjQ5Qzc3NEFEMEUyRUQzNDMxMkZCMDc1MEQ4MEZFOTZFRkU3QzM3QSAweDFEOENGMkMwNEQwODA2OTYxNjkxQzQyMTQ4RTNEQTBFRDA5MzIyQTZENEI2QjhGNkZGNDdEMUQzMTUxNzRGN0EpKSkpKHpfMSAweDE3N0JBNTY0ODE1MzA4QTJFMTBBNEFFQjUyRkUwMEQxN0VFMTRERUU0REEwMDM4OTVGQUI2NDhBOEE2NUQ4MUUpKHpfMiAweDFCNTQ1QjVCQ0ZCMDI3MUI1N0VDRjI4NUFFRjg2RjhBNzhCNEYyNzRGRDlFRjlEQjk2NEFCNEM0NTVGRUE2MTMpKGRlbHRhKDB4M0UxRjk3Qzc0QUY0M0I3MENGNDQ3RUU2MkJBMUMwQUFGMkE1NkY5QzE1NDE1Nzc1QjIyQzlDNTc0NThFMzA0QSAweDE4MkE0MUU5NzFCNEIxRjRDREZDNkI5OUFBQkFCM0NGQTAwRDAwNTczQ0U0NzYwQUI0NTJCOUM3MkU0REQ5OUMpKShjaGFsbGVuZ2VfcG9seW5vbWlhbF9jb21taXRtZW50KDB4MEFFMzQzRUYyMEZBMDkxQTEwQTUwNURCMEM1RDUzQkQ4RkE1RkQ2ODczMDFGNUIwQTUxRTIzNkQ3QjE5QTAxNiAweDNCQTREMEUxRkQ4RkVGN0EyOEM1ODJDMjQzNDBFMThDNUQyREQwN0FDMDFBQTFBOTkxMDkwM0M2MzU0OTkzQjEpKSkpKSkp",
};

const aggregatedProof: AggregateProof = await AggregateProof.fromJSON(voteProofJson);

// console.log(aggregatedProof);
readWalletConfigAndGetMinaPrivateKey(minaPrivateKeyBase58FilePath, (err, minaPrivateKey) => {
    if (err) return logger.log("error", err);

    if (!minaPrivateKey) return logger.log("error", "priv_key_not_found");

    getMinaPublicKeyByPrivateKey(minaPrivateKey, (err, minaPublicKey) => {
        if (err) return logger.log("error", err);

        if (!minaPublicKey) return logger.log("error", "pub_key_not_found");

        setActiveMinaInstanceToDevnet();

        settleAggregatedElectionResultToMinaById(
            {
                privateKey: minaPrivateKey,
                publicKey: minaPublicKey,
                aggregatedElectionResult: {
                    electionId: PublicKey.fromBase58(
                        "B62qkdfkUfGoz6bXrupHhnyE5e6NQJLDKXvWQaWVNDFKV92TUDw1zg6"
                    ),
                    result: aggregatedProof,
                },
            },
            (err, transaction_hash) => {
                if (err) return logger.log("error", err);

                logger.log("info", `Transaction hash: ${transaction_hash}`);
            }
        );
    });
});

const settleCheck = (callback: (err: Error | string | null, transaction_hash?: string) => void) => {
    createMinaWalletConfigFolderIfNotExists(minaPrivateKeyBase58FolderPath, (err) => {
        if (err) return callback(err);

        createMinaWalletConfigFileIfNotExists(minaPrivateKeyBase58FilePath, (err) => {
            if (err) return callback(err);

            checkIfMinaPrivateKeyBase58ExistsInWalletConfig(
                minaPrivateKeyBase58FilePath,
                (err, exists) => {
                    if (err) return callback(err);

                    if (!exists) {
                        logger.log(
                            "warn",
                            `Please add your Mina private key to the wallet config: ${ADD_MINA_PRIVATE_KEY_TO_WALLET_CONFIG_COMMAND}`
                        );

                        return callback("priv_key_not_found");
                    }

                    readWalletConfigAndGetMinaPrivateKey(
                        minaPrivateKeyBase58FilePath,
                        (err, minaPrivateKey) => {
                            if (err) return callback(err);

                            if (!minaPrivateKey) return callback("priv_key_not_found");

                            getMinaPublicKeyByPrivateKey(minaPrivateKey, (err, minaPublicKey) => {
                                if (err) return callback(err);

                                if (!minaPublicKey) return callback("pub_key_not_found");

                                logger.log("info", `Mina private key: ${minaPrivateKey.toJSON()}`);
                                logger.log("info", `Mina public key: ${minaPublicKey.toJSON()}`);
                            });
                        }
                    );
                }
            );
        });
    });
};
